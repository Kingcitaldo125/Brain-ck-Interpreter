#include "parser.hpp"
#include <iostream>

#define HELLO_WORLD                                                                                \
    "++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>.>---.+++++++..+++.>>.<-.<.+++.------.---" \
    "-----.>>+.>++."
#define HELLO_BANG "++++++++++[>+>+++>+++++++>++++++++++<<<<-]>>>++.>+.+++++++..+++.<<+++."

using BrainFck::Parser;

int main()
{
    Parser parser;
    int res = 0;

    res |= parser.parse(HELLO_WORLD);
    // res |= parser.parse(HELLO_BANG);
    // res |= parser.parse("++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>.");
    /*
    res |= parser.parse(
    "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.>"
    "+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.>"
    "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.>"
    "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.>"
    "+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++."
    );
    */

    if (res)
    {
        puts("Failed to parse.");
        return -1;
    }

    std::cout << "output: " << parser.output() << std::endl;
    return 0;
}
